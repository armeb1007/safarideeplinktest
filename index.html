<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venmo Auto-Open Test (Mimicking Strumzo)</title>
    <script>
        // Step 1: Base64 Encoding to Obfuscate 'venmo://'
        const encodedVenmoURL = btoa("venmo://");

        // Step 2: Hidden Function to Decode and Execute the Redirect
        function decodeAndExecute() {
            let decodedURL = atob(encodedVenmoURL); // Decode back to 'venmo://'

            // Step 3: Create a Hidden iFrame (Like Strumzo’s Hidden JS)
            let iframe = document.createElement("iframe");
            iframe.style.width = "1px";
            iframe.style.height = "1px";
            iframe.style.border = "none";
            iframe.src = decodedURL;
            document.body.appendChild(iframe);

            // Step 4: Fake User Interaction Dispatch (Likely What Strumzo Used)
            let fakeClick = document.createElement("a");
            fakeClick.href = decodedURL;
            document.body.appendChild(fakeClick);
            let event = new MouseEvent("click", { bubbles: true, cancelable: true, view: window });
            fakeClick.dispatchEvent(event);
        }

        // Step 5: Multi-Stage Redirects (Mimicking Strumzo’s Speed)
        function rapidRedirects() {
            window.location.href = "https://example.com?track=12345";  // Fake tracking redirect
            setTimeout(() => {
                window.location.replace("https://example.com/redirect2");  // Second hop
            }, 50);
            setTimeout(() => {
                decodeAndExecute();  // Final execution
            }, 100);
        }

        // Step 6: Execute on Page Load
        window.onload = function() {
            rapidRedirects();
        };
    </script>
</head>
<body>
    <h1>Testing Venmo Auto-Open (Strumzo Mechanism Replication)</h1>
</body>
</html>
